{% extends 'admin/adminbase.html' %}

{% block title %}Edit Project{% endblock %}

{% block content %}
<h2 class="text-2xl font-bold mb-6">Edit Project</h2>
<form action="{{ url_for('admin.edit_project', project_id=project.id) }}" method="POST" class="space-y-6">
    <div>
        <label for="title" class="block text-sm font-medium text-gray-700">Title:</label>
        <input type="text" name="title" value="{{ project.title }}" required
            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
    </div>
    <div>
        <label for="description" class="block text-sm font-medium text-gray-700">Description:</label>
        <textarea name="description" required
            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">{{ project.description }}</textarea>
    </div>
    <div>
        <label for="category_id" class="block text-sm font-medium text-gray-700">Category:</label>
        <select name="category_id" required
            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
            {% for category in categories %}
            <option value="{{ category.id }}" {% if category.id==project.category_id %}selected{% endif %}>
                {{ category.name }}
            </option>
            {% endfor %}
        </select>
    </div>
    <div>
        <label for="image_url" class="block text-sm font-medium text-gray-700">Image URL:</label>
        <input type="text" name="image_url" value="{{ project.image_url }}" required
            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
    </div>
    <div>
        <label for="demo_url" class="block text-sm font-medium text-gray-700">Demo URL:</label>
        <input type="text" name="demo_url" value="{{ project.demo_url }}" required
            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
    </div>
    <div>
        <label for="github_url" class="block text-sm font-medium text-gray-700">GitHub URL:</label>
        <input type="text" name="github_url" value="{{ project.github_url }}" required
            class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 sm:text-sm">
    </div>
    <button type="submit"
        class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
        Save Changes
    </button>
</form>
<a href="{{ url_for('admin.manage_projects') }}" class="inline-block mt-4 text-blue-600 hover:text-blue-700">
    Back to Projects
</a>
{% endblock %}